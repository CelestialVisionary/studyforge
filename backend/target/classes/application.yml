server:
  port: 8080  # æœåŠ¡å™¨ç«¯å£

spring:
  application:
    name: smart-learning-platform  # æ™ºèƒ½å­¦ä¹ å¹³å°åº”ç”¨åç§°
  
  # Redisç¼“å­˜é…ç½®
  data:
    redis:
      host: 192.168.145.100  # RedisæœåŠ¡å™¨åœ°å€
      port: 6379       # RedisæœåŠ¡å™¨ç«¯å£
      database: 0      # ä½¿ç”¨çš„æ•°æ®åº“ç´¢å¼•
      timeout: 10000   # è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
      lettuce:
        pool:
          max-active: 8   # è¿æ¥æ± æœ€å¤§è¿æ¥æ•°
          max-wait: -1    # è¿æ¥æ± æœ€å¤§é˜»å¡ç­‰å¾…æ—¶é—´ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰
          max-idle: 8     # è¿æ¥æ± ä¸­çš„æœ€å¤§ç©ºé—²è¿æ¥
          min-idle: 0     # è¿æ¥æ± ä¸­çš„æœ€å°ç©ºé—²è¿æ¥
  
  # æ•°æ®åº“é…ç½®
  datasource:
    type: com.zaxxer.hikari.HikariDataSource
    driver-class-name: com.mysql.cj.jdbc.Driver  # MySQLé©±åŠ¨
    url: jdbc:mysql://localhost:3306/exam_system_online?useUnicode=true&characterEncoding=utf8&allowPublicKeyRetrieval=true&useSSL=false&serverTimezone=Asia/Shanghai  # æ•°æ®åº“è¿æ¥URL
    username: root  # æ•°æ®åº“ç”¨æˆ·å
    password: 1234  # æ•°æ®åº“å¯†ç 
    hikari:
      connection-test-query: SELECT 1 # è‡ªåŠ¨æ£€æµ‹è¿æ¥
      connection-timeout: 60000 #æ•°æ®åº“è¿æ¥è¶…æ—¶æ—¶é—´,é»˜è®¤30ç§’
      idle-timeout: 500000 #ç©ºé—²è¿æ¥å­˜æ´»æœ€å¤§æ—¶é—´ï¼Œé»˜è®¤600000ï¼ˆ10åˆ†é’Ÿï¼‰
      max-lifetime: 540000 #æ­¤å±æ€§æ§åˆ¶æ± ä¸­è¿æ¥çš„æœ€é•¿ç”Ÿå‘½å‘¨æœŸï¼Œå€¼0è¡¨ç¤ºæ— é™ç”Ÿå‘½å‘¨æœŸï¼Œé»˜è®¤1800000å³30åˆ†é’Ÿ
      maximum-pool-size: 12 #è¿æ¥æ± æœ€å¤§è¿æ¥æ•°ï¼Œé»˜è®¤æ˜¯10
      minimum-idle: 10 #æœ€å°ç©ºé—²è¿æ¥æ•°é‡
      pool-name: SPHHikariPool # è¿æ¥æ± åç§°

  
  # Jacksoné…ç½®
  jackson:
    date-format: yyyy-MM-dd HH:mm:ss  # æ—¥æœŸæ ¼å¼
    time-zone: GMT+8  # æ—¶åŒºè®¾ç½®
    default-property-inclusion: NON_NULL  # ä¸åºåˆ—åŒ–nullå€¼

  servlet:
    multipart:
      max-file-size: 150MB   # å•ä¸ªæ–‡ä»¶æœ€å¤§150MB
      max-request-size: 150MB # å•æ¬¡è¯·æ±‚æœ€å¤§150MB

# MyBatis Plusé…ç½®
mybatis-plus:
  configuration:
    map-underscore-to-camel-case: true  # ä¸‹åˆ’çº¿è½¬é©¼å³°
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl  # SQLæ—¥å¿—è¾“å‡º
    auto-mapping-behavior: full
  global-config:
    db-config:
      id-type: auto  # ä¸»é”®ç­–ç•¥
      #logic-delete-field: isDeleted  # é€»è¾‘åˆ é™¤å­—æ®µ
      #logic-delete-value: 1  # é€»è¾‘åˆ é™¤å€¼
      #logic-not-delete-value: 0  # é€»è¾‘æœªåˆ é™¤å€¼
  mapper-locations: classpath*:/mapper/**/*.xml  # Mapperæ–‡ä»¶ä½ç½®
  type-aliases-package: com.exam.entity

# æ—¥å¿—é…ç½®
logging:
  level:
    com.exam: info  # ç”Ÿäº§ç¯å¢ƒä½¿ç”¨infoçº§åˆ«ï¼Œå‡å°‘æ—¥å¿—é‡
    org.springframework.web: info  # Spring Webæ—¥å¿—çº§åˆ«
    org.springframework.security: warn  # å®‰å…¨ç›¸å…³æ—¥å¿—ä½¿ç”¨warnçº§åˆ«
    org.springframework.boot.actuate: info  # Actuatoræ—¥å¿—çº§åˆ«
  file:
    name: logs/studyforge.log  # æ—¥å¿—æ–‡ä»¶è·¯å¾„
  pattern:
    file: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"  # æ–‡ä»¶æ—¥å¿—æ ¼å¼
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"  # æ§åˆ¶å°æ—¥å¿—æ ¼å¼
  logback:
    rollingpolicy:
      file-name-pattern: logs/studyforge.%d{yyyy-MM-dd}.%i.log  # æ»šåŠ¨æ—¥å¿—æ–‡ä»¶åæ ¼å¼
      max-file-size: 10MB  # å•æ–‡ä»¶æœ€å¤§å¤§å°
      max-history: 30  # ä¿ç•™å†å²æ—¥å¿—å¤©æ•°
      total-size-cap: 2GB  # æ€»æ—¥å¿—å¤§å°é™åˆ¶

# Actuatoré…ç½®
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus,httptrace,loggers  # æš´éœ²çš„ç«¯ç‚¹
      base-path: /actuator  # ç«¯ç‚¹åŸºç¡€è·¯å¾„
  endpoint:
    health:
      show-details: always  # æ˜¾ç¤ºå¥åº·è¯¦æƒ…
      probes:
        enabled: true  # å¯ç”¨æ¢æµ‹
    metrics:
      enabled: true  # å¯ç”¨æŒ‡æ ‡
    prometheus:
      enabled: true  # å¯ç”¨Prometheusæ”¯æŒ
  metrics:
    tags:
      application: ${spring.application.name}  # æ·»åŠ åº”ç”¨åç§°æ ‡ç­¾
    distribution:
      percentiles-histogram:
        http:
          server:
            requests: true  # å¯ç”¨HTTPè¯·æ±‚çš„ç™¾åˆ†ä½ç›´æ–¹å›¾
      percentiles:
        http:
          server:
            requests: 0.5,0.9,0.95,0.99  # HTTPè¯·æ±‚çš„ç™¾åˆ†ä½ 

# JWTé…ç½®
jwt:
  secret: smart-learning-platform-secret-key  # JWTç­¾åå¯†é’¥
  expiration: 30  # JWTè¿‡æœŸæ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰
  token-prefix: Bearer  # JWTä»¤ç‰Œå‰ç¼€
  header: Authorization  # JWTä»¤ç‰Œå¤´åç§°

# AI æœåŠ¡é…ç½®
kimi:
  api:
    base-url: https://api.moonshot.cn/v1
    api-key: sk-0FjcIWCa6i6jvSu3RMHVk8ujkL8FcsoRvtkg119jij7FQB2T  # ä»ç¯å¢ƒå˜é‡è·å–ï¼Œæˆ–ä½¿ç”¨é»˜è®¤å€¼
    model: moonshot-v1-32k  # ä½¿ç”¨8kä¸Šä¸‹æ–‡æ¨¡å‹è¿›è¡Œåˆ¤å·
    max-tokens: 2000  # æœ€å¤§ç”Ÿæˆtokenæ•°
    temperature: 0.3  # è¾ƒä½çš„temperatureç¡®ä¿åˆ¤å·ç»“æœç¨³å®š

# GPT-3.5 APIé…ç½®
gpt:
  api:
    base-url: https://api.openai.com/v1
    api-key: YOUR_GPT_API_KEY  # æ›¿æ¢ä¸ºå®é™…çš„GPT-3.5 APIå¯†é’¥
    model: gpt-3.5-turbo  # ä½¿ç”¨GPT-3.5æ¨¡å‹
    max-tokens: 1500  # æœ€å¤§ç”Ÿæˆtokenæ•°
    temperature: 0.7  # é€‚ä¸­çš„temperatureç¡®ä¿å›ç­”å‡†ç¡®ä¸”è‡ªç„¶

# MinIO æ–‡ä»¶å­˜å‚¨é…ç½®  # MinIOå¯¹è±¡å­˜å‚¨é…ç½®
minio:
  endpoint: http://192.168.6.188:9000  # MinIOæœåŠ¡å™¨åœ°å€
  bucket-name: onlinebucket  # å­˜å‚¨æ¡¶åç§°
  url-expiry: 604800  # URLè¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤7å¤©
  access-key: minioadmin
  secret-key: minioadmin

# æœ¬åœ°æ–‡ä»¶å­˜å‚¨é…ç½®ï¼ˆå¤‡ç”¨ï¼‰  # æœ¬åœ°æ–‡ä»¶ä¸Šä¼ é…ç½®ï¼ˆå¤‡ç”¨ï¼‰
file:
  upload:
    path: ./uploads/  # æœ¬åœ°æ–‡ä»¶å­˜å‚¨è·¯å¾„
    url-prefix: http://localhost:8080/files/  # æ–‡ä»¶è®¿é—®URLå‰ç¼€

# Knife4j APIæ–‡æ¡£é…ç½®  # å¢å¼ºç‰ˆAPIæ–‡æ¡£é…ç½®
knife4j:
  enable: true  # å¯ç”¨Knife4jå¢å¼ºåŠŸèƒ½
  openapi:
    title: ğŸ“ æ™ºèƒ½è€ƒè¯•ç³»ç»ŸAPIæ–‡æ¡£  # æ–‡æ¡£æ ‡é¢˜
    description: ğŸ“š åŸºäºSpring Boot + MyBatis Pluså¼€å‘çš„æ™ºèƒ½è€ƒè¯•ç³»ç»Ÿ  # æ–‡æ¡£æè¿°
    version: v1.0.0  # APIç‰ˆæœ¬
    concat: ğŸ« æ™ºèƒ½è€ƒè¯•ç³»ç»Ÿå¼€å‘å›¢é˜Ÿ  # è”ç³»äººä¿¡æ¯
  setting:
    language: zh_cn  # ç•Œé¢è¯­è¨€è®¾ç½®ä¸ºä¸­æ–‡
    enable-version: true  # å¯ç”¨ç‰ˆæœ¬æ§åˆ¶
    enable-swagger-models: true  # å¯ç”¨æ•°æ®æ¨¡å‹å±•ç¤º
    enable-document-manage: true  # å¯ç”¨æ–‡æ¡£ç®¡ç†åŠŸèƒ½
    enable-reload-cache-parameter: false  # ç¦ç”¨ç¼“å­˜é‡è½½å‚æ•°
    enable-after-script: true  # å¯ç”¨afterScriptåŠŸèƒ½
    enable-filter-multipart-api-method-type: POST  # è¿‡æ»¤æ–‡ä»¶ä¸Šä¼ æ¥å£çš„è¯·æ±‚æ–¹å¼
    enable-filter-multipart-apis: false  # ä¸è¿‡æ»¤æ–‡ä»¶ä¸Šä¼ æ¥å£
    enable-request-cache: true  # å¯ç”¨è¯·æ±‚ç¼“å­˜
    enable-host: false  # ç¦ç”¨hostæ˜¾ç¤º 